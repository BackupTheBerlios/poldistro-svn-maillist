<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Poldistro-svn] r566 - trunk/096/pkg/mobiles/brainAI/include
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/poldistro-svn/2005-October/index.html" >
   <LINK REL="made" HREF="mailto:poldistro-svn%40lists.berlios.de?Subject=Re%3A%20%5BPoldistro-svn%5D%20r566%20-%20trunk/096/pkg/mobiles/brainAI/include&In-Reply-To=%3C200510120012.j9C0Cxp3016072%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000593.html">
   <LINK REL="Next"  HREF="000537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Poldistro-svn] r566 - trunk/096/pkg/mobiles/brainAI/include</H1>
    <B>Austin Heilman at BerliOS</B> 
    <A HREF="mailto:poldistro-svn%40lists.berlios.de?Subject=Re%3A%20%5BPoldistro-svn%5D%20r566%20-%20trunk/096/pkg/mobiles/brainAI/include&In-Reply-To=%3C200510120012.j9C0Cxp3016072%40sheep.berlios.de%3E"
       TITLE="[Poldistro-svn] r566 - trunk/096/pkg/mobiles/brainAI/include">austin at berlios.de
       </A><BR>
    <I>Wed Oct 12 02:12:59 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000593.html">[Poldistro-svn] r565 - trunk/096/pkg/mobiles/brainAI/docs
</A></li>
        <LI>Next message: <A HREF="000537.html">[Poldistro-svn] r567 - trunk/096/pkg/mobiles/brainAI/docs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#536">[ date ]</a>
              <a href="thread.html#536">[ thread ]</a>
              <a href="subject.html#536">[ subject ]</a>
              <a href="author.html#536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: austin
Date: 2005-10-12 02:12:56 +0200 (Wed, 12 Oct 2005)
New Revision: 566

Modified:
   trunk/096/pkg/mobiles/brainAI/include/npcCommands.inc
Log:


Modified: trunk/096/pkg/mobiles/brainAI/include/npcCommands.inc
===================================================================
--- trunk/096/pkg/mobiles/brainAI/include/npcCommands.inc	2005-10-12 00:05:13 UTC (rev 565)
+++ trunk/096/pkg/mobiles/brainAI/include/npcCommands.inc	2005-10-12 00:12:56 UTC (rev 566)
@@ -17,33 +17,33 @@
 /////////////////////////////////////////////////////////////////
 // * Function List *
 //
-// AI_Attack(mobile, opponent, no_wake:=WAKEUP)
-// AI_ClearThoughts(mobile, flags)
-// AI_EndNerve(mobile, nerve_name, no_wake:=WAKEUP)
-// AI_Flee(mobile, opponent, no_wake:=WAKEUP)
-// AI_FowardEvent(mobile, nerve_name, mask, data, no_wake:=WAKEUP)
-// AI_Move(mobile, object, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
-// AI_MoveXY(mobile, x, y, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
-// AI_SetOpponent(mobile, opponent, no_wake:=WAKEUP)
-// AI_Sleep(mobile)
-// AI_Speak(mobile, text, text_type:=SPEAK_TEXTTYPE_DEFAULT, do_event:=SPEAK_DOEVENT_DISABLE, no_wake:=WAKEUP)
-// AI_StartNerve(mobile, nerve_name, script_name, data, no_wake:=WAKEUP)
-// AI_Turn(mobile, turn_to, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
-// AI_TurnXY(mobile, x, y, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
-// AI_WakeUp(mobile)
-// AI_Wander(mobile, no_wake:=WAKEUP, loop:=0)
-// AI_WarMode(mobile, mode:=0, no_wake:=WAKEUP)
+// AI_Attack(npc, opponent, no_wake:=WAKEUP)
+// AI_ClearThoughts(npc, flags)
+// AI_EndNerve(npc, nerve_name, no_wake:=WAKEUP)
+// AI_Flee(npc, opponent, no_wake:=WAKEUP)
+// AI_FowardEvent(npc, nerve_name, mask, data, no_wake:=WAKEUP)
+// AI_Move(npc, object, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
+// AI_MoveXY(npc, x, y, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
+// AI_SetOpponent(npc, opponent, no_wake:=WAKEUP)
+// AI_Sleep(npc)
+// AI_Speak(npc, text, text_type:=SPEAK_TEXTTYPE_DEFAULT, do_event:=SPEAK_DOEVENT_DISABLE, no_wake:=WAKEUP)
+// AI_StartNerve(npc, nerve_name, script_name, data, no_wake:=WAKEUP)
+// AI_Turn(npc, turn_to, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
+// AI_TurnXY(npc, x, y, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
+// AI_WakeUp(npc)
+// AI_Wander(npc, no_wake:=WAKEUP, loop:=0)
+// AI_WarMode(npc, mode:=0, no_wake:=WAKEUP)
 // 
 /////////////////////////////////////////////////////////////////
 
 /*
- * AI_Attack(mobile, opponent, no_wake)
+ * AI_Attack(npc, opponent, no_wake)
  *
  * Purpose
  * Triggers the npc's combat script on opponent.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * opponent:	What the npc's combat nerve will attack.
  * no_wake:	Optional wakeup flag:
  *		WAKEUP - Will stop the sleep script if it is running - Default.
@@ -53,24 +53,24 @@
  * Result of SendEvent()
  *
  */
-function AI_Attack(mobile, opponent, no_wake:=WAKEUP)
+function AI_Attack(npc, opponent, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= SYSEVENT_ENGAGED;
 	ev.+source	:= opponent;
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_ClearThoughts(mobile, flags)
+ * AI_ClearThoughts(npc, flags)
  *
  * Purpose
  * Clears the event queue for the script calling it and or the brain.
  *
  * Parameters
- * mobile:	A reference to the npc.
+ * npc:		A reference to the npc.
  * flags:	CLR_* flag for what scripts should have their event queues cleared.
  *		CLR_BRAIN - Clears the brain's queue.
  *		CLR_NERVE - Clears the nerve's queue.
@@ -80,13 +80,13 @@
  * Always returns 1
  *
  */
-function AI_ClearThoughts(mobile, flags)
+function AI_ClearThoughts(npc, flags)
 	var brain	:= flags &amp; CLR_BRAIN;
 	var nerve	:= flags &amp; CLR_NERVE;
 	var both	:= flags &amp; CLR_BOTH;
 
 	if ( both || brain )
-		brain := mobile.process;
+		brain := npc.process;
 		brain.clear_event_queue();
 	endif
 
@@ -99,13 +99,13 @@
 endfunction
 
 /*
- * AI_EndNerve(mobile, nerve_name, no_wake)
+ * AI_EndNerve(npc, nerve_name, no_wake)
  *
  * Purpose
  * Used to tell the brain to stop a nerve script.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * nerve_name:	String containing the name of the nerve (dictionary key).
  * no_wake:	Optional wakeup flag:
  *		WAKEUP - Will stop the sleep script if it is running - Default.
@@ -115,51 +115,24 @@
  * Result of SendEvent()
  *
  */
-function AI_EndNerve(mobile, nerve_name, no_wake:=WAKEUP)
+function AI_EndNerve(npc, nerve_name, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_ENDNERVE;
 	ev.+name	:= nerve_name;
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_Flee(mobile, opponent, no_wake)
+ * AI_ForwardEvent(npc, nerve_name, mask, data, no_wake)
  *
  * Purpose
- * Used to tell the brain to stop a nerve script.
- *
- * Parameters
- * mobile:	The npc that will receive the command.
- * opponent:	Opponent to flee from.
- * no_wake:	Optional wakeup flag:
- *		WAKEUP - Will stop the sleep script if it is running - Default.
- *		NOWAKE - Will not stop the sleep script if it is running.
- *
- * Return value
- * Result of SendEvent()
- *
- */
-function AI_Flee(mobile, opponent, no_wake:=WAKEUP)
-	var ev		:= struct;
-	ev.+type	:= NPCEVENT_FLEE;
-	ev.+source	:= opponent;
-	ev.+WakeUp	:= no_wake;
-	ev.+process	:= GetProcess(GetPid());
-
-	return SendEvent(mobile, ev);
-endfunction
-
-/*
- * AI_ForwardEvent(mobile, nerve_name, mask, data, no_wake)
- *
- * Purpose
  * Used to send an event from one nerve to another.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * nerve_name:	String containing the name of the nerve to forward the event to (dictionary key).
  * mask:	The type of event the nerve should handle the forward as. (example: SYSEVENT_LEFTAREA)
  * data:	Data that the nerve will receive.
@@ -171,7 +144,7 @@
  * Result of SendEvent()
  *
  */
-function AI_FowardEvent(mobile, nerve_name, mask, data, no_wake:=WAKEUP)
+function AI_FowardEvent(npc, nerve_name, mask, data, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_FWDNERVE;
 	ev.+NerveName	:= nerve_name;
@@ -180,18 +153,18 @@
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_Move(mobile, opponent, to_from, speed, no_wake, loop)
+ * AI_Move(npc, opponent, to_from, speed, no_wake, loop)
  *
  * Purpose
- * Commands an npc to move toward / away from an item or mobile.
+ * Commands an npc to move toward / away from an item or npc.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
- * object:	Item or mobile the npc will move away from/toward.
+ * npc:		The npc that will receive the command.
+ * object:	Item or npc the npc will move away from/toward.
  * to_from:	Direction the npc will go:
  *		NEMOVE_TOWARD - Will make the npc move toward the object - Default
  *		NEMOVE_AWAY   - Will make the npc move away from the object.
@@ -208,7 +181,7 @@
  * Result of SendEvent()
  *
  */
-function AI_Move(mobile, object, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
+function AI_Move(npc, object, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_MOVE;
 	ev.+source	:= object;
@@ -218,17 +191,17 @@
 	ev.+loop	:= loop;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_MoveXY(mobile, x, y, to_from, speed, no_wake, loop)
+ * AI_MoveXY(npc, x, y, to_from, speed, no_wake, loop)
  *
  * Purpose
  * Commands an npc to move toward or away from an XY coordinate.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * x:		X coordinate to move away from/toward
  * y:		Y coordinate to move away from/toward
  * to_from:	Direction the npc will go:
@@ -247,7 +220,7 @@
  * Result of SendEvent()
  *
  */
-function AI_MoveXY(mobile, x, y, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
+function AI_MoveXY(npc, x, y, to_from:=NEMOVE_TOWARD, speed:=NEMOVE_RUN, no_wake:=WAKEUP, loop:=0)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_MOVE_XY;
 	ev.+x		:= x;
@@ -258,18 +231,18 @@
 	ev.+loop	:= loop;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_SetOpponent(mobile, opponent, no_wake)
+ * AI_SetOpponent(npc, opponent, no_wake)
  *
  * Purpose
  * Places the npc into war mode and sets an opponent.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
- * opponent:	Mobile reference that will be considered an opponent.
+ * npc:		The npc that will receive the command.
+ * opponent:	npc reference that will be considered an opponent.
  * no_wake:	Optional wakeup flag:
  *		WAKEUP - Will stop the sleep script if it is running - Default.
  *		NOWAKE - Will not stop the sleep script if it is running.
@@ -278,46 +251,46 @@
  * Result of SendEvent()
  *
  */
-function AI_SetOpponent(mobile, opponent, no_wake:=WAKEUP)
+function AI_SetOpponent(npc, opponent, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_OPPONENT;
 	ev.+source	:= opponent;
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_Sleep(mobile)
+ * AI_Sleep(npc)
  *
  * Purpose
  * Instructs the npc to go into sleep mode - shuts down all nerves.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  *
  * Return value
  * Result of SendEvent()
  *
  */
-function AI_Sleep(mobile)
+function AI_Sleep(npc)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_SLEEP;
 	ev.+WakeUp	:= NOWAKE;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_Speak(mobile, text, text_type, do_event, no_wake)
+ * AI_Speak(npc, text, text_type, do_event, no_wake)
  *
  * Purpose
  * Commands the NPC to speak.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * text:	The text the npc will speak.
  * text_type:	text_type for npc.em :
  *		SPEAK_TEXTTYPE_DEFAULT - Default
@@ -334,7 +307,7 @@
  * Result of SendEvent()
  *
  */
-function AI_Speak(mobile, text, text_type:=SPEAK_TEXTTYPE_DEFAULT, do_event:=SPEAK_DOEVENT_DISABLE, no_wake:=WAKEUP)
+function AI_Speak(npc, text, text_type:=SPEAK_TEXTTYPE_DEFAULT, do_event:=SPEAK_DOEVENT_DISABLE, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_SPEAK;
 	ev.+text	:= text;
@@ -343,17 +316,17 @@
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_StartNerve(mobile, nerve_name, script_name, data, no_wake)
+ * AI_StartNerve(npc, nerve_name, script_name, data, no_wake)
  *
  * Purpose
  * Used to start a custom nerve up from within a nerve.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * nerve_name:	String containing the name of the nerve (dictionary key).
  * script_name:	Path of the script to start.
  * data:	Data to be sent to the nerve once it starts.
@@ -365,7 +338,7 @@
  * Result of SendEvent()
  *
  */
-function AI_StartNerve(mobile, nerve_name, script_name, data, no_wake:=WAKEUP)
+function AI_StartNerve(npc, nerve_name, script_name, data, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_STARTNERVE;
 	ev.+name	:= nerve_name;
@@ -374,17 +347,17 @@
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_Turn(mobile, turn_to, direction, no_wake)
+ * AI_Turn(npc, turn_to, direction, no_wake)
  *
  * Purpose
  * Commands the NPC to face away from / toward an object.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * turn_to:	item or moble reference to turn away from / toward.
  * direction:	Direction the npc will face:
  *		NETURN_TOWARD - Will make the npc turn toward the object - Default.
@@ -397,7 +370,7 @@
  * Result of SendEvent()
  *
  */
-function AI_Turn(mobile, turn_to, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
+function AI_Turn(npc, turn_to, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_TURN;
 	ev.+source	:= turn_to;
@@ -405,17 +378,17 @@
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_TurnXY(mobile, x, y, direction, no_wake)
+ * AI_TurnXY(npc, x, y, direction, no_wake)
  *
  * Purpose
  * Commands the NPC to face away from / toward a coordinate.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * x:		X coordinate to turn away from / toward.
  * y:		Y coordinate to turn away from / toward.
  * direction:	Direction the npc will face:
@@ -429,7 +402,7 @@
  * Result of SendEvent()
  *
  */
-function AI_TurnXY(mobile, x, y, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
+function AI_TurnXY(npc, x, y, direction:=NETURN_TOWARD, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_TURN_XY;
 	ev.+x		:= x;
@@ -438,39 +411,39 @@
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_WakeUp(mobile)
+ * AI_WakeUp(npc)
  *
  * Purpose
  * Sends an event to the npc causing its sleep script to end.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  *
  * Return value
  * Result of SendEvent()
  *
  */
-function AI_WakeUp(mobile)
+function AI_WakeUp(npc)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_WAKEUP;
 	ev.+WakeUp	:= WAKEUP;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_Wander(mobile, opponent, no_wake)
+ * AI_Wander(npc, opponent, no_wake)
  *
  * Purpose
  * Commands the NPC to wander one step in a random direction.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * no_wake:	Optional wakeup flag:
  *		WAKEUP - Will stop the sleep script if it is running - Default.
  *		NOWAKE - Will not stop the sleep script if it is running.
@@ -481,24 +454,24 @@
  * Result of SendEvent()
  *
  */
-function AI_Wander(mobile, no_wake:=WAKEUP, loop:=0)
+function AI_Wander(npc, no_wake:=WAKEUP, loop:=0)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_WANDER;
 	ev.+WakeUp	:= no_wake;
 	ev.+loop	:= CInt(loop);
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction
 
 /*
- * AI_WarMode(mobile, mode, no_wake)
+ * AI_WarMode(npc, mode, no_wake)
  *
  * Purpose
  * Toggles warmode on the npc. Setting to 0 also clears the opponent.
  *
  * Parameters
- * mobile:	The npc that will receive the command.
+ * npc:		The npc that will receive the command.
  * mode:	0 - Takes the NPC out of warmode and clears the opponent - Default.
  *		1 - Places the npc into warmode.
  * no_wake:	Optional wakeup flag:
@@ -509,12 +482,12 @@
  * Result of SendEvent()
  *
  */
-function AI_WarMode(mobile, mode:=0, no_wake:=WAKEUP)
+function AI_WarMode(npc, mode:=0, no_wake:=WAKEUP)
 	var ev		:= struct;
 	ev.+type	:= NPCEVENT_WARMODE;
 	ev.+value	:= mode;
 	ev.+WakeUp	:= no_wake;
 	ev.+process	:= GetProcess(GetPid());
 
-	return SendEvent(mobile, ev);
+	return SendEvent(npc, ev);
 endfunction


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000593.html">[Poldistro-svn] r565 - trunk/096/pkg/mobiles/brainAI/docs
</A></li>
	<LI>Next message: <A HREF="000537.html">[Poldistro-svn] r567 - trunk/096/pkg/mobiles/brainAI/docs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#536">[ date ]</a>
              <a href="thread.html#536">[ thread ]</a>
              <a href="subject.html#536">[ subject ]</a>
              <a href="author.html#536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/poldistro-svn">More information about the Poldistro-svn
mailing list</a><br>
</body></html>
