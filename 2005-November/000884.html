<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Poldistro-svn] r910 - in trunk/096: pkg/items/repaircontract pkg/mobiles/oldAI pkg/mobiles/oldAI/combat pkg/mobiles/oldAI/main pkg/skills/healing pkg/skills/lockpicking pkg/skills/mining pkg/skills/tailoring pkg/skills/tinkering pkg/skills/veterinary pkg/systems/combat/old pkg/systems/combat/useScripts pkg/systems/merchantnodes pkg/systems/spellcasting scripts/include/OLD scripts/util
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/poldistro-svn/2005-November/index.html" >
   <LINK REL="made" HREF="mailto:poldistro-svn%40lists.berlios.de?Subject=Re%3A%20%5BPoldistro-svn%5D%20r910%20-%20in%20trunk/096%3A%20pkg/items/repaircontract%20pkg/mobiles/oldAI%20pkg/mobiles/oldAI/combat%20pkg/mobiles/oldAI/main%20pkg/skills/healing%20pkg/skills/lockpicking%20pkg/skills/mining%20pkg/skills/tailoring%20pkg/skills/tinkering%20pkg/skills/veterinary%20pkg/systems/combat/old%20pkg/systems/combat/useScripts%20pkg/systems/merchantnodes%20pkg/systems/spellcasting%20scripts/include/OLD%20scripts/util&In-Reply-To=%3C200511052311.jA5NB87k013006%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000883.html">
   <LINK REL="Next"  HREF="000885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Poldistro-svn] r910 - in trunk/096: pkg/items/repaircontract pkg/mobiles/oldAI pkg/mobiles/oldAI/combat pkg/mobiles/oldAI/main pkg/skills/healing pkg/skills/lockpicking pkg/skills/mining pkg/skills/tailoring pkg/skills/tinkering pkg/skills/veterinary pkg/systems/combat/old pkg/systems/combat/useScripts pkg/systems/merchantnodes pkg/systems/spellcasting scripts/include/OLD scripts/util</H1>
    <B>Austin Heilman at BerliOS</B> 
    <A HREF="mailto:poldistro-svn%40lists.berlios.de?Subject=Re%3A%20%5BPoldistro-svn%5D%20r910%20-%20in%20trunk/096%3A%20pkg/items/repaircontract%20pkg/mobiles/oldAI%20pkg/mobiles/oldAI/combat%20pkg/mobiles/oldAI/main%20pkg/skills/healing%20pkg/skills/lockpicking%20pkg/skills/mining%20pkg/skills/tailoring%20pkg/skills/tinkering%20pkg/skills/veterinary%20pkg/systems/combat/old%20pkg/systems/combat/useScripts%20pkg/systems/merchantnodes%20pkg/systems/spellcasting%20scripts/include/OLD%20scripts/util&In-Reply-To=%3C200511052311.jA5NB87k013006%40sheep.berlios.de%3E"
       TITLE="[Poldistro-svn] r910 - in trunk/096: pkg/items/repaircontract pkg/mobiles/oldAI pkg/mobiles/oldAI/combat pkg/mobiles/oldAI/main pkg/skills/healing pkg/skills/lockpicking pkg/skills/mining pkg/skills/tailoring pkg/skills/tinkering pkg/skills/veterinary pkg/systems/combat/old pkg/systems/combat/useScripts pkg/systems/merchantnodes pkg/systems/spellcasting scripts/include/OLD scripts/util">austin at berlios.de
       </A><BR>
    <I>Sun Nov  6 00:11:08 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000883.html">[Poldistro-svn] r909 - in trunk/096/pkg/skills/magery: . include
</A></li>
        <LI>Next message: <A HREF="000885.html">[Poldistro-svn] r911 - in trunk/096: pkg/items/guildstone pkg/mobiles/oldAI pkg/skills/alchemy pkg/skills/herding pkg/skills/musicianship pkg/skills/taming pkg/systems/boat pkg/systems/housing pkg/systems/merchantnodes pkg/systems/stafflist scripts/control scripts/misc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#884">[ date ]</a>
              <a href="thread.html#884">[ thread ]</a>
              <a href="subject.html#884">[ subject ]</a>
              <a href="author.html#884">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: austin
Date: 2005-11-06 00:11:06 +0100 (Sun, 06 Nov 2005)
New Revision: 910

Modified:
   trunk/096/pkg/items/repaircontract/repairDeed.src
   trunk/096/pkg/mobiles/oldAI/animal.src
   trunk/096/pkg/mobiles/oldAI/barber.src
   trunk/096/pkg/mobiles/oldAI/barker.src
   trunk/096/pkg/mobiles/oldAI/battleMage.src
   trunk/096/pkg/mobiles/oldAI/bladeSpirit.src
   trunk/096/pkg/mobiles/oldAI/bucsTownHealer.src
   trunk/096/pkg/mobiles/oldAI/cat.src
   trunk/096/pkg/mobiles/oldAI/chicken.src
   trunk/096/pkg/mobiles/oldAI/combat/bladeFight.inc
   trunk/096/pkg/mobiles/oldAI/combat/defaultCombatEvent.inc
   trunk/096/pkg/mobiles/oldAI/combat/fight.inc
   trunk/096/pkg/mobiles/oldAI/combat/fireCombatEvent.inc
   trunk/096/pkg/mobiles/oldAI/combat/immobileFight.inc
   trunk/096/pkg/mobiles/oldAI/combat/packFight.inc
   trunk/096/pkg/mobiles/oldAI/combat/spellCombatEvent.inc
   trunk/096/pkg/mobiles/oldAI/combat/spellFireEvent.inc
   trunk/096/pkg/mobiles/oldAI/crier.src
   trunk/096/pkg/mobiles/oldAI/davesHealer.src
   trunk/096/pkg/mobiles/oldAI/dumbKillPCs.src
   trunk/096/pkg/mobiles/oldAI/employed.src
   trunk/096/pkg/mobiles/oldAI/entranced.src
   trunk/096/pkg/mobiles/oldAI/escortee.src
   trunk/096/pkg/mobiles/oldAI/firebreather.src
   trunk/096/pkg/mobiles/oldAI/goodCaster.src
   trunk/096/pkg/mobiles/oldAI/helpPCs.src
   trunk/096/pkg/mobiles/oldAI/immobile.src
   trunk/096/pkg/mobiles/oldAI/immobileSpell.src
   trunk/096/pkg/mobiles/oldAI/killAny.src
   trunk/096/pkg/mobiles/oldAI/killPCs.src
   trunk/096/pkg/mobiles/oldAI/main/closeDistance.inc
   trunk/096/pkg/mobiles/oldAI/main/killPCsLoop.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoop.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopAnimal.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopBarker.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopCat.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopChicken.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopCow.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopKillAny.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopMeek.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopSheep.inc
   trunk/096/pkg/mobiles/oldAI/main/mainLoopWolf.inc
   trunk/096/pkg/mobiles/oldAI/main/meanLoop.inc
   trunk/096/pkg/mobiles/oldAI/main/packKillPCsLoop.inc
   trunk/096/pkg/mobiles/oldAI/meek.src
   trunk/096/pkg/mobiles/oldAI/merchant.src
   trunk/096/pkg/mobiles/oldAI/packFirebreather.src
   trunk/096/pkg/mobiles/oldAI/person.src
   trunk/096/pkg/mobiles/oldAI/poisonElemental.src
   trunk/096/pkg/mobiles/oldAI/poisonKillPCs.src
   trunk/096/pkg/mobiles/oldAI/slime.src
   trunk/096/pkg/mobiles/oldAI/spellFire.src
   trunk/096/pkg/mobiles/oldAI/spellKillPCs.src
   trunk/096/pkg/mobiles/oldAI/spiders.src
   trunk/096/pkg/mobiles/oldAI/tamed.src
   trunk/096/pkg/mobiles/oldAI/townGuard.src
   trunk/096/pkg/mobiles/oldAI/townHealer.src
   trunk/096/pkg/mobiles/oldAI/townPerson.src
   trunk/096/pkg/mobiles/oldAI/undead.src
   trunk/096/pkg/mobiles/oldAI/undeadKillPCs.src
   trunk/096/pkg/mobiles/oldAI/vortexAI.src
   trunk/096/pkg/mobiles/oldAI/wolf.src
   trunk/096/pkg/mobiles/oldAI/worker.src
   trunk/096/pkg/skills/healing/healing.src
   trunk/096/pkg/skills/lockpicking/lockpicking.src
   trunk/096/pkg/skills/mining/mining.src
   trunk/096/pkg/skills/tailoring/makeClothItems.src
   trunk/096/pkg/skills/tailoring/tailoringFunctions.inc
   trunk/096/pkg/skills/tinkering/tinkerTraps.src
   trunk/096/pkg/skills/veterinary/vet.src
   trunk/096/pkg/systems/combat/old/bladed.src
   trunk/096/pkg/systems/combat/useScripts/bladed.src
   trunk/096/pkg/systems/merchantnodes/guardNodeControl.src
   trunk/096/pkg/systems/merchantnodes/merchantNodeControl.src
   trunk/096/pkg/systems/spellcasting/spellcast.src
   trunk/096/scripts/include/OLD/spellRestrictions.inc
   trunk/096/scripts/util/repair.inc
Log:
dist() to Distance()
coordist() to CoordinateDistance()

Modified: trunk/096/pkg/items/repaircontract/repairDeed.src
===================================================================
--- trunk/096/pkg/items/repaircontract/repairDeed.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/items/repaircontract/repairDeed.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -3,7 +3,6 @@
 use cfgfile;
 
 include &quot;:itemutils:canAccess&quot;;
-include &quot;include/dist&quot;;
 
 program usescript_repairDeed(who, deed)
 
@@ -105,7 +104,7 @@
     SendSysMessage(who, &quot;You cannot repair that&quot;);
     return;
   endif
-  if((!Accessible(who, use_on)) or (dist(who, use_on) &gt; 2))
+  if((!Accessible(who, use_on)) or (Distance(who, use_on) &gt; 2))
     SendSysMessage(who, &quot;You cannot reach that&quot;);
     return;
   endif

Modified: trunk/096/pkg/mobiles/oldAI/animal.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/animal.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/animal.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopAnimal&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/barber.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/barber.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/barber.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -12,7 +12,6 @@
 include &quot;include/client&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;include/findCity&quot;;
-include &quot;include/dist&quot;;
 include &quot;:begging:begging&quot;;
 include &quot;:attributes:attributes&quot;;
 include &quot;:npcutils:trainSkill&quot;;
@@ -141,7 +140,7 @@
 		if(ReadGameClock() &gt;= next_wander)
 			begpurse(me);
 			wander();
-			if(coordist(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
+			if(CoordinateDistance(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
 				MoveCharacterToLocation(me, myanchor[1], myanchor[2], myanchor[3], MOVECHAR_FORCELOCATION);
 			endif
 			next_wander := ReadGameClock() +(RandomInt(9) + 21);

Modified: trunk/096/pkg/mobiles/oldAI/barker.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/barker.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/barker.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopBarker&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/battleMage.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/battleMage.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/battleMage.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -5,11 +5,10 @@
 
 include &quot;include/client&quot;;
 include &quot;:attributes:attributes&quot;;
-include &quot;include/eventID&quot;;
+include &quot;include/OLD/eventID&quot;;
 include &quot;include/sysEvent&quot;;
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:vetement&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:npcutils:NPCBackpacks&quot;;
 include &quot;include/skillLists&quot;;
@@ -58,7 +57,7 @@
       endcase
 	endif
 	if(ReadGameClock() &gt;= next_wander)
-      if(coordist(me.x, me.y, myanchor[1], myanchor[2]) &gt; 15)
+      if( CoordinateDistance(me.x, me.y, myanchor[1], myanchor[2]) &gt; 15)
         MoveCharacterToLocation(me, myanchor[1], myanchor[2], myanchor[3], MOVECHAR_FORCELOCATION);
       endif
       next_wander := ReadGameClock() + 10;
@@ -72,7 +71,7 @@
 
 function WanderMe()
   wander();
-  if(coordist(me.x, me.y, myanchor[1], myanchor[2]) &gt; 15)
+  if(CoordinateDistance(me.x, me.y, myanchor[1], myanchor[2]) &gt; 15)
     MoveCharacterToLocation(me, myanchor[1], myanchor[2], myanchor[3], MOVECHAR_FORCELOCATION);
   endif
 endfunction

Modified: trunk/096/pkg/mobiles/oldAI/bladeSpirit.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/bladeSpirit.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/bladeSpirit.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;:oldAI:main/setup&quot;;
 include &quot;:oldAI:main/sleepMode&quot;;
 include &quot;:npcutils:animal&quot;;
@@ -91,7 +90,7 @@
   prepare_for_fight(opponent);
   var loops := 0;
   waittime := 0;
-  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20) )
+  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20) )
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;
@@ -208,7 +207,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -225,7 +224,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/bucsTownHealer.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/bucsTownHealer.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/bucsTownHealer.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -12,7 +12,6 @@
 include &quot;:npcutils:NPCBackpacks&quot;;
 include &quot;include/client&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;include/findCity&quot;;
 include &quot;:begging:begging&quot;;
 include &quot;:npcutils:trainSkill&quot;;
@@ -132,7 +131,7 @@
 	if(ReadGameClock() &gt;= next_wander)
 	  begpurse(me);
       wander();
-      if(coordist(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
+      if(CoordinateDistance(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
         MoveCharacterToLocation(me, myanchor[1], myanchor[2], myanchor[3], MOVECHAR_FORCELOCATION);
       endif
       next_wander := ReadGameClock() + 30;

Modified: trunk/096/pkg/mobiles/oldAI/cat.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/cat.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/cat.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopCat&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/chicken.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/chicken.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/chicken.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopChicken&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/combat/bladeFight.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/bladeFight.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/bladeFight.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,7 @@
   var loops := 0;
   var ev;
   var waittime := 0;
-  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20) )
+  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20) )
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;

Modified: trunk/096/pkg/mobiles/oldAI/combat/defaultCombatEvent.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/defaultCombatEvent.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/defaultCombatEvent.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -13,7 +13,7 @@
 
 function in_combat_event_loop(opponent, loops)
   if(loops &gt; 50)
-    if((dist(me, opponent) &gt; 12) &amp;&amp; (!CheckLineOfSight(me, opponent)))
+    if((Distance(me, opponent) &gt; 12) &amp;&amp; (!CheckLineOfSight(me, opponent)))
 	  RestartScript(me);
 	  return;
     endif

Modified: trunk/096/pkg/mobiles/oldAI/combat/fight.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/fight.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/fight.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,7 @@
   TurnToward(opponent);
   var loops := 0;
 
-  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20))
+  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20))
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;
@@ -26,7 +26,7 @@
                             opponent := ev.source;
 			  		        SetOpponent(opponent);
 					        TurnToward(opponent);
-                          elseif((dist(me, ev.source) &lt; dist(me, opponent)) || (!CheckLineOfSight(me, opponent)) || (!opponent))
+                          elseif((Distance(me, ev.source) &lt; Distance(me, opponent)) || (!CheckLineOfSight(me, opponent)) || (!opponent))
 					        opponent := ev.source;
 			  		        SetOpponent(opponent);
 					        TurnToward(opponent);
@@ -84,7 +84,7 @@
 	  WalkAwayFrom(opponent);
 	  runs := runs +1;
 	  case (ev.type)
-        SYSEVENT_DAMAGED: if(((ev.source.npctemplate) and (CheckLineOfSight(me, ev.source))) ||(dist(me, ev.source) &lt; dist(me, opponent)) || (!CheckLineOfSight(me, opponent)) || (!opponent) || (RandomInt(3)==1))
+        SYSEVENT_DAMAGED: if(((ev.source.npctemplate) and (CheckLineOfSight(me, ev.source))) ||(Distance(me, ev.source) &lt; Distance(me, opponent)) || (!CheckLineOfSight(me, opponent)) || (!opponent) || (RandomInt(3)==1))
 					        opponent := ev.source;
 			  		        SetOpponent(opponent);
 			              endif

Modified: trunk/096/pkg/mobiles/oldAI/combat/fireCombatEvent.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/fireCombatEvent.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/fireCombatEvent.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -15,7 +15,7 @@
   if(RandomInt(4) != 1)
     return;
   endif
-  if(CheckLineOfSight(me, opponent) &amp;&amp; (dist(me, opponent) &lt; 10))
+  if(CheckLineOfSight(me, opponent) &amp;&amp; (Distance(me, opponent) &lt; 10))
     PerformAction(me,0x0c);
     sleep(1);
     PlaySoundEffect(me, 0x16b);

Modified: trunk/096/pkg/mobiles/oldAI/combat/immobileFight.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/immobileFight.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/immobileFight.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,7 @@
   TurnToward(opponent);
   var loops := 0;
   waittime := 0;
-  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20) )
+  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20) )
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;
@@ -21,7 +21,7 @@
 	process_combat_event(opponent);
 	ev := wait_for_event(waittime);
 	case (ev.type)
-      SYSEVENT_DAMAGED: if((dist(me, ev.source) &lt; dist(me, opponent)) || (!CheckLineOfSight(me, opponent)) || (!opponent))
+      SYSEVENT_DAMAGED: if((Distance(me, ev.source) &lt; Distance(me, opponent)) || (!CheckLineOfSight(me, opponent)) || (!opponent))
 					      opponent := ev.source;
 			  		      SetOpponent(opponent);
 					      TurnToward(opponent);

Modified: trunk/096/pkg/mobiles/oldAI/combat/packFight.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/packFight.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/packFight.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -17,7 +17,7 @@
   TurnToward( opponent );
   var loops := 0;
   waittime := 0;
-  while ( (opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20) )
+  while ( (opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20) )
     if (!CloseDistance( opponent ) )
       loops := loops + 1;
       waittime := 0;

Modified: trunk/096/pkg/mobiles/oldAI/combat/spellCombatEvent.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/spellCombatEvent.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/spellCombatEvent.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -33,7 +33,7 @@
 function spellattack(opponent)
   if(LAST_BREATH &gt; ReadGameClock())
     return;
-  elseif((CheckLineOfSight(me, opponent)) and (dist(me, opponent) &lt;= 12))
+  elseif((CheckLineOfSight(me, opponent)) and (Distance(me, opponent) &lt;= 12))
     cast_offensive_spell(me, opponent);
     LAST_BREATH := Cint(ReadGameClock() + (RandomInt(4) + 4));
   endif

Modified: trunk/096/pkg/mobiles/oldAI/combat/spellFireEvent.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/combat/spellFireEvent.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/combat/spellFireEvent.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -35,7 +35,7 @@
   if(LAST_BREATH &gt; ReadGameClock())
     return;
   endif
-  if((CheckLineOfSight(me, opponent)) and (dist(me, opponent) &lt;= 15))
+  if((CheckLineOfSight(me, opponent)) and (Distance(me, opponent) &lt;= 15))
     if(RandomInt(4) == 1)
       PerformAction(me,0x0c);
       PlaySoundEffect(me, 0x16b);

Modified: trunk/096/pkg/mobiles/oldAI/crier.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/crier.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/crier.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopCrier&quot;;
 include &quot;:oldAI:combat/fight&quot;;
@@ -71,7 +70,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     1:
     0:       return 1;
     default: WalkTowardLocation(lx, ly);

Modified: trunk/096/pkg/mobiles/oldAI/davesHealer.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/davesHealer.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/davesHealer.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;include/eventID&quot;;
 include &quot;include/sysEvent&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:npcutils:speech&quot;;
 include &quot;include/client&quot;;
@@ -76,7 +75,7 @@
   SetOpponent(opponent);
   var waittime;
   outer:
-  while (opponent &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 15))
+  while (opponent &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 15))
     waittime := CloseDistance(opponent) * 15;
     var ev := wait_for_event(waittime);
     repeat

Modified: trunk/096/pkg/mobiles/oldAI/dumbKillPCs.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/dumbKillPCs.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/dumbKillPCs.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/employed.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/employed.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/employed.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:NPCBackpacks&quot;;
 include &quot;:npcutils:NPCCast&quot;;
 include &quot;:npcutils:names&quot;;
-include &quot;include/dist&quot;;
 include &quot;:timedscripts:timedScripts&quot;;
 
 set_priority(5);
@@ -281,7 +280,7 @@
   SetOpponent(opponent);
   var ev;
   var loops := 0;
-  while((opponent) &amp;&amp; (!opponent.dead || !opponent.hidden || !opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 15))
+  while((opponent) &amp;&amp; (!opponent.dead || !opponent.hidden || !opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 15))
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;
@@ -462,7 +461,7 @@
       return;
     endforeach
   endif
-  if( (!AP_GetStat(guarding, &quot;Strength&quot;)) || (guarding.dead) || (dist(me,guarding) &gt; 15) )
+  if( (!AP_GetStat(guarding, &quot;Strength&quot;)) || (guarding.dead) || (Distance(me,guarding) &gt; 15) )
     guarding := 0;
   endif
 endfunction
@@ -490,7 +489,7 @@
       waittime := 0;
     endif
   endif
-  if( (!AP_GetStat(escortee, &quot;Strength&quot;)) || (escortee.dead) || (dist(me,escortee) &gt; 15) )
+  if( (!AP_GetStat(escortee, &quot;Strength&quot;)) || (escortee.dead) || (Distance(me,escortee) &gt; 15) )
     guarding := 0;
   endif
   if(guarding)

Modified: trunk/096/pkg/mobiles/oldAI/entranced.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/entranced.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/entranced.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -6,7 +6,6 @@
 include &quot;include/eventID&quot;;
 include &quot;:attributes:attributes&quot;;
 include &quot;include/sysEvent&quot;;
-include &quot;include/dist&quot;;
 
 var me := Self();
 

Modified: trunk/096/pkg/mobiles/oldAI/escortee.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/escortee.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/escortee.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -7,7 +7,6 @@
 include &quot;include/sysEvent&quot;;
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;:oldAI:main/mainLoopGood&quot;;
 include &quot;:oldAI:combat/animalCombatEvent&quot;;
 include &quot;:oldAI:combat/fight&quot;;
@@ -194,7 +193,7 @@
       waittime := 0;
     endif
   endif
-  if((!AP_GetStat(escortee, &quot;Strength&quot;)) || (escortee.dead) || (dist(me,escortee) &gt; 15) )
+  if((!AP_GetStat(escortee, &quot;Strength&quot;)) || (escortee.dead) || (Distance(me,escortee) &gt; 15) )
     following := 0;
   endif
 endfunction
@@ -222,7 +221,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -239,7 +238,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/firebreather.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/firebreather.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/firebreather.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/goodCaster.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/goodCaster.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/goodCaster.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;:npcutils:speech&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:NPCCast&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopGood&quot;;
@@ -61,7 +60,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -78,7 +77,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/helpPCs.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/helpPCs.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/helpPCs.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:speech&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopGood&quot;;
@@ -56,7 +55,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -73,7 +72,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/immobile.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/immobile.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/immobile.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopImmobile&quot;;
 include &quot;:oldAI:combat/fight&quot;;
@@ -50,7 +49,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -67,7 +66,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/immobileSpell.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/immobileSpell.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/immobileSpell.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -26,7 +26,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopImmobile&quot;;
 include &quot;:oldAI:combat/immobileFight&quot;;
@@ -69,7 +68,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -86,7 +85,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/killAny.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/killAny.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/killAny.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -26,7 +26,6 @@
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;:oldAI:main/mainLoopKillAny&quot;;
 include &quot;:oldAI:combat/fight&quot;;
 include &quot;:oldAI:main/defaultNonCombatEvent&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/killPCs.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/killPCs.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/killPCs.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/main/closeDistance.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/closeDistance.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/closeDistance.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -45,18 +45,18 @@
   for X:=1 to 24
     sleepms(1);
     if (CheckLOSat(me, me.x + X - 12, me.y, me.z) and CheckLOSat(destination, me.x + X - 12, me.y, me.z))
-      if(coordist(destination.x , destination.y , me.x+X-12 , me.y) &lt; maxdist)
+      if(CoordinateDistance(destination.x , destination.y , me.x+X-12 , me.y) &lt; maxdist)
         dX := me.x+X-12;
         dY := me.y;
-        maxdist := coordist(destination.x , destination.y , me.x+X-12 , me.y );
+        maxdist := CoordinateDistance(destination.x , destination.y , me.x+X-12 , me.y );
       endif
     else
       for Y:=1 to 24
         if(CheckLOSat(me, me.x + X - 12, me.y + Y - 12, me.z) and CheckLOSat(destination, me.x+X-12, me.y+Y-12, me.z))
-          if(coordist(destination.x , destination.y , me.x+X-12 , me.y+Y-12 ) &lt; maxdist)
+          if(CoordinateDistance(destination.x , destination.y , me.x+X-12 , me.y+Y-12 ) &lt; maxdist)
             dX := me.x+X-12;
             dY := me.y+Y-12;
-            maxdist := coordist(destination.x , destination.y , me.x + X - 12 , me.y);
+            maxdist := CoordinateDistance(destination.x , destination.y , me.x + X - 12 , me.y);
           endif
         endif
       endfor
@@ -80,7 +80,7 @@
       chk := chk + 1;
     endif
     lastface := face;
-  until((coordist( me.x , me.y , x , y ) &lt;= 0) or (chk &gt; 1));
+  until((CoordinateDistance( me.x , me.y , x , y ) &lt;= 0) or (chk &gt; 1));
   if(chk &gt; 1)
     return 1;
   endif

Modified: trunk/096/pkg/mobiles/oldAI/main/killPCsLoop.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/killPCsLoop.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/killPCsLoop.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -72,7 +72,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -89,7 +89,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoop.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoop.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoop.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -71,7 +71,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -88,7 +88,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopAnimal.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopAnimal.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopAnimal.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -24,7 +24,7 @@
 
 function RunLikeHell(opponent)
   var ev;
-  while((opponent)&amp;&amp; not(opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp;(dist(me,opponent)&lt; 25))
+  while((opponent)&amp;&amp; not(opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp;(Distance(me,opponent)&lt; 25))
     WalkAwayFrom(opponent);
     repeat
       case(ev.type)
@@ -62,7 +62,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -79,7 +79,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopBarker.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopBarker.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopBarker.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -27,7 +27,7 @@
 endfunction
 
 function RunLikeHell(opponent)
-  while((opponent)&amp;&amp; not(opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp;(dist(me,opponent)&lt; 25))
+  while((opponent)&amp;&amp; not(opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp;(Distance(me,opponent)&lt; 25))
     WalkAwayFrom(opponent);
     repeat
       case(ev.type)
@@ -121,7 +121,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -138,7 +138,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopCat.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopCat.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopCat.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -62,7 +62,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -79,7 +79,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopChicken.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopChicken.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopChicken.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -40,7 +40,7 @@
 endfunction
 
 function RunLikeHell(opponent)
-  while((opponent)&amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp; (dist(me,opponent)&lt; 25))
+  while((opponent)&amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp; (Distance(me,opponent)&lt; 25))
     RunAwayFrom(opponent);
     repeat
     until(!(ev := os::wait_for_event(1)));
@@ -76,7 +76,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -93,7 +93,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopCow.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopCow.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopCow.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -31,7 +31,7 @@
 
 function RunLikeHell(opponent)
 
-  while((opponent)&amp;&amp; not(opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp;(dist(me,opponent)&lt; 25))
+  while((opponent)&amp;&amp; not(opponent.dead || opponent.hidden || opponent.concealed)&amp;&amp;(Distance(me,opponent)&lt; 25))
     WalkAwayFrom(opponent);
     repeat
       case(ev.type)
@@ -70,7 +70,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -87,7 +87,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopKillAny.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopKillAny.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopKillAny.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -61,7 +61,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -78,7 +78,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopMeek.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopMeek.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopMeek.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -72,7 +72,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -89,7 +89,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopSheep.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopSheep.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopSheep.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -54,7 +54,7 @@
 
 function RunLikeHell(opponent)
   opponent := opponent;
-  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 25))
+  while((opponent) &amp;&amp; not (opponent.dead || opponent.hidden || opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 25))
         RunAwayFrom(opponent);
     repeat
         case (ev.type)
@@ -96,7 +96,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -113,7 +113,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/mainLoopWolf.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/mainLoopWolf.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/mainLoopWolf.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -87,7 +87,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -104,7 +104,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/meanLoop.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/meanLoop.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/meanLoop.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -74,7 +74,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -91,7 +91,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/main/packKillPCsLoop.inc
===================================================================
--- trunk/096/pkg/mobiles/oldAI/main/packKillPCsLoop.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/main/packKillPCsLoop.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -119,7 +119,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -136,7 +136,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/meek.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/meek.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/meek.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -26,7 +26,6 @@
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;:npcutils:speech&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopMeek&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/merchant.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/merchant.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/merchant.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -12,7 +12,6 @@
 include &quot;include/client&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;include/findCity&quot;;
-include &quot;include/dist&quot;;
 include &quot;:begging:begging&quot;;
 include &quot;:attributes:attributes&quot;;
 include &quot;:npcutils:trainSkill&quot;;
@@ -125,7 +124,7 @@
 	if(ReadGameClock() &gt;= next_wander)
 	  begpurse(me);
       wander();
-      if(coordist(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
+      if(CoordinateDistance(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
         MoveCharacterToLocation(me, myanchor[1], myanchor[2], myanchor[3], MOVECHAR_FORCELOCATION);
       endif
       next_wander := ReadGameClock() + 30;

Modified: trunk/096/pkg/mobiles/oldAI/packFirebreather.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/packFirebreather.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/packFirebreather.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/packKillPCsLoop&quot;;
 include &quot;:oldAI:combat/packFight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/person.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/person.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/person.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -19,7 +19,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:speech&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;:oldAI:main/loot&quot;;
 include &quot;:begging:begging&quot;;
 

Modified: trunk/096/pkg/mobiles/oldAI/poisonElemental.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/poisonElemental.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/poisonElemental.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:NPCCast&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;include/spellRestrictions&quot;;
@@ -84,7 +83,7 @@
   if(LAST_BREATH &gt; ReadGameClock())
     return;
   endif
-  if((CheckLineOfSight(me, opponent)) and (dist(me, opponent) &lt;= 15))
+  if((CheckLineOfSight(me, opponent)) and (Distance(me, opponent) &lt;= 15))
     cast_offensive_spell(me, opponent);
     LAST_BREATH := Cint(ReadGameClock() + (RandomInt(4) + 4));
   endif

Modified: trunk/096/pkg/mobiles/oldAI/poisonKillPCs.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/poisonKillPCs.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/poisonKillPCs.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/slime.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/slime.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/slime.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/spellFire.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/spellFire.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/spellFire.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:NPCCast&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/spellKillPCs.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/spellKillPCs.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/spellKillPCs.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -11,7 +11,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:NPCCast&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/spiders.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/spiders.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/spiders.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/tamed.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/tamed.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/tamed.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:NPCBackpacks&quot;;
 include &quot;:npcutils:NPCCast&quot;;
 include &quot;:npcutils:names&quot;;
-include &quot;include/dist&quot;;
 include &quot;include/snooping&quot;;
 include &quot;include/tileEffects&quot;;
 
@@ -203,7 +202,7 @@
   var ev;
   var loops := 0;
   var f_waittime := 0;
-  while((opponent) &amp;&amp; (!opponent.dead || !opponent.hidden || !opponent.concealed)&amp;&amp;(dist(me,opponent)&lt; 15))
+  while((opponent) &amp;&amp; (!opponent.dead || !opponent.hidden || !opponent.concealed)&amp;&amp;(Distance(me,opponent)&lt; 15))
     if(!CloseDistance(opponent))
       loops := loops + 1;
       f_waittime := 0;
@@ -254,7 +253,7 @@
     endif
     if(firebreather and caster)
       if(LAST_BREATH &lt;= ReadGameClock())
-        if((CheckLineOfSight(me, opponent)) and (dist(me, opponent) &lt;= 15))
+        if((CheckLineOfSight(me, opponent)) and (Distance(me, opponent) &lt;= 15))
           if(RandomInt(4) == 1)
             cast_meteor(opponent);
           else
@@ -265,7 +264,7 @@
       endif
     elseif(caster)
       if(LAST_BREATH &lt;= ReadGameClock())
-        if((CheckLineOfSight(me, opponent)) and (dist(me, opponent) &lt;= 15))
+        if((CheckLineOfSight(me, opponent)) and (Distance(me, opponent) &lt;= 15))
           cast_offensive_spell(me, opponent);
           LAST_BREATH := Cint(ReadGameClock() + (RandomInt(4) + 4));
         endif
@@ -611,7 +610,7 @@
       return;
     endforeach
   endif
-  if((!AP_GetStat(guarding, &quot;Strength&quot;))||(guarding.dead)||(dist(me,guarding)&gt; 15))
+  if((!AP_GetStat(guarding, &quot;Strength&quot;))||(guarding.dead)||(Distance(me,guarding)&gt; 15))
     guarding := 0;
   endif
 endfunction

Modified: trunk/096/pkg/mobiles/oldAI/townGuard.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/townGuard.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/townGuard.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;include/sysEvent&quot;;
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:vetement&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:npcutils:NPCBackpacks&quot;;
 include &quot;:begging:begging&quot;;
@@ -81,7 +80,7 @@
 
 function WanderMe()
   wander();
-  if(coordist(me.x, me.y, myanchor[1], myanchor[2]) &gt; 15)
+  if(CoordinateDistance(me.x, me.y, myanchor[1], myanchor[2]) &gt; 15)
     MoveCharacterToLocation(me, myanchor[1], myanchor[2], myanchor[3], MOVECHAR_FORCELOCATION);
   endif
 endfunction
@@ -161,7 +160,7 @@
   var loops := 0;
   var ev;
   var waittime := 0;
-  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20))
+  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20))
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;

Modified: trunk/096/pkg/mobiles/oldAI/townHealer.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/townHealer.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/townHealer.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -13,7 +13,6 @@
 include &quot;:npcutils:NPCBackpacks&quot;;
 include &quot;include/client&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;include/resurrection&quot;;
 include &quot;include/findCity&quot;;
 include &quot;:begging:begging&quot;;
@@ -128,7 +127,7 @@
 	if(ReadGameClock() &gt;= next_wander)
 	  begpurse(me);
       wander();
-      if(coordist(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
+      if(CoordinateDistance(me.x, me.y, myanchor[1], myanchor[2]) &gt; 5)
         MoveCharacterToLocation(me, myanchor[1], myanchor[2], myanchor[3], MOVECHAR_FORCELOCATION);
       endif
       next_wander := ReadGameClock() + 30;

Modified: trunk/096/pkg/mobiles/oldAI/townPerson.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/townPerson.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/townPerson.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:speech&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;:oldAI:main/mainLoopGood&quot;;
 include &quot;:oldAI:combat/warriorcombatevent&quot;;
 include &quot;:oldAI:combat/fight&quot;;
@@ -218,7 +217,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -235,7 +234,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/undead.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/undead.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/undead.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -10,7 +10,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 
 const HALT_THRESHOLD := 8; // how close before he attacks?
@@ -76,7 +75,7 @@
   var loops := 0;
   var ev;
   var waittime := 0;
-  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20))
+  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20))
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;
@@ -110,7 +109,7 @@
 
 function in_combat_event_loop(opponent, loops)
   if(loops &gt; 50)
-    if((dist(me, opponent) &gt; 12) &amp;&amp; (!CheckLineOfSight(me, opponent)))
+    if((Distance(me, opponent) &gt; 12) &amp;&amp; (!CheckLineOfSight(me, opponent)))
 	  RestartScript(me);
 	  return;
     endif

Modified: trunk/096/pkg/mobiles/oldAI/undeadKillPCs.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/undeadKillPCs.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/undeadKillPCs.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:vetement&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/killPCsLoop&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/vortexAI.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/vortexAI.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/vortexAI.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -9,7 +9,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:combat/vortexCombatEvent&quot;;
 include &quot;:oldAI:setup/setup&quot;;
@@ -84,7 +83,7 @@
   TurnToward(opponent);
   var loops := 0;
   waittime := 0;
-  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (dist(me,opponent) &lt; 20))
+  while((opponent) &amp;&amp; (!opponent.dead) &amp;&amp; (!opponent.hidden) &amp;&amp; (!opponent.concealed) &amp;&amp; (Distance(me,opponent) &lt; 20))
 	if(!CloseDistance(opponent))
 	  loops := loops + 1;
 	  waittime := 0;
@@ -156,7 +155,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -173,7 +172,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/mobiles/oldAI/wolf.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/wolf.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/wolf.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:NPCUtil&quot;;
 include &quot;:itemutils:objtype&quot;;
-include &quot;include/dist&quot;;
 include &quot;:npcutils:anchors&quot;;
 include &quot;:oldAI:main/mainLoopWolf&quot;;
 include &quot;:oldAI:combat/fight&quot;;

Modified: trunk/096/pkg/mobiles/oldAI/worker.src
===================================================================
--- trunk/096/pkg/mobiles/oldAI/worker.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/mobiles/oldAI/worker.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;:npcutils:names&quot;;
 include &quot;:npcutils:speech&quot;;
 include &quot;:npcutils:anchors&quot;;
-include &quot;include/dist&quot;;
 include &quot;:oldAI:main/mainLoopGood&quot;;
 include &quot;:oldAI:combat/warriorcombatevent&quot;;
 include &quot;:oldAI:combat/fight&quot;;
@@ -307,7 +306,7 @@
 	  loops := 0;
 	  waittime := 1;
 	endif
-	if((loops &gt;= 30) or (coordist(me.x, me.y, lx, ly) &lt;= 1))
+	if((loops &gt;= 30) or (CoordinateDistance(me.x, me.y, lx, ly) &lt;= 1))
 	  break;
 	endif
 	ev := wait_for_event(waittime);
@@ -324,7 +323,7 @@
 endfunction
 
 function CloseIn(me, lx, ly)
-  case (coordist(me.x, me.y, lx, ly))
+  case (CoordinateDistance(me.x, me.y, lx, ly))
     0:       return 1;
     default: WalkTowardLocation(lx, ly);
              return 0;

Modified: trunk/096/pkg/skills/healing/healing.src
===================================================================
--- trunk/096/pkg/skills/healing/healing.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/skills/healing/healing.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -4,7 +4,6 @@
 use util;
 use cfgfile;
 
-include &quot;include/dist&quot;;
 include &quot;include/client&quot;;
 include &quot;include/resurrection&quot;;
 include &quot;:itemutils:canAccess&quot;;
@@ -30,7 +29,7 @@
 		return;
 	endif
 	var poisons := TS_GetTimerNames(patient, &quot;P&quot;);
-	if(dist(who, patient) &gt;= 2)
+	if(Distance(who, patient) &gt;= 2)
 		SendSysMessage(who, &quot;Your patient is too far away.&quot;);
 		return;
 	elseif(!CheckLineOfSight(who,patient))
@@ -72,7 +71,7 @@
 						resurrect_pc(who, patient, 0);
 					endif
 				endif
-			elseif(dist(who, patient) &gt; 1)
+			elseif(Distance(who, patient) &gt; 1)
 				SendSysMessage(who, &quot;Your patient is too far away.&quot;);
 			elseif(!CheckLineOfSight(who, patient))
 				SendSysMessage(who,&quot;You can't see your patient.&quot;);
@@ -100,7 +99,7 @@
 						resurrect_pc(who, patient, 0);
 					endif
 				endif
-			elseif(dist(who, patient) &gt; 1)
+			elseif(Distance(who, patient) &gt; 1)
 				SendSysMessage(who, &quot;Your patient is too far away.&quot;);
 			elseif(!CheckLineOfSight(who, patient))
 				SendSysMessage(who,&quot;You can't see your patient.&quot;);
@@ -120,7 +119,7 @@
 			SendSysMessage(who, &quot;You have no chance of reviving your patient.&quot;);
 		elseif(!CheckLineOfSight(who,patient))
 			SendSysMessage(who,&quot;You can't see your patient anymore.&quot;);
-		elseif(dist(who, patient) &gt; 1)
+		elseif(Distance(who, patient) &gt; 1)
 			SendSysMessage(who, &quot;Your patient is too far away.&quot;);
 		elseif(SubtractAmount(item, 1))
 			resurrect_pc(who, patient, 0);
@@ -131,7 +130,7 @@
 
 // Send the animals to vet.
 	elseif(patient.npctemplate)
-		if(dist(who, patient) &gt;= 2)
+		if(Distance(who, patient) &gt;= 2)
 			SendSysMessage(who, &quot;Your patient is too far away.&quot;);
 		elseif(SubtractAmount(Item, 1))
 			var parms := array(patient, who);
@@ -181,7 +180,7 @@
 			break;
 		elseif(clock != GetObjProperty(who, &quot;HealTimer&quot;))
 			break;
-		elseif(dist(who, patient) &gt; 1)
+		elseif(Distance(who, patient) &gt; 1)
 			SendSysMessage(who,&quot;Your patient isn't close enough.&quot;);
 			SendSysMessage(patient, who.name + &quot;has stopped healing you.&quot;);
 			break;
@@ -280,7 +279,7 @@
 			break;
 		elseif(clock != GetObjProperty(who, &quot;HealTimer&quot;))
 			break;
-		elseif(dist(who, patient) &gt; 1)
+		elseif(Distance(who, patient) &gt; 1)
 			SendSysMessage(who, &quot;Your patient isn't close enough.&quot;);
 			SendSysMessage(patient, who.name + &quot; has stopped healing you.&quot;);
 			break;
@@ -340,7 +339,7 @@
 			break;
 		elseif(clock != GetObjProperty(who, &quot;HealTimer&quot;))
 			break;
-		elseif(dist(who, patient) &gt; 1)
+		elseif(Distance(who, patient) &gt; 1)
 			SendSysMessage(who,&quot;Your patient isn't close enough.&quot;);
 			SendSysMessage(patient, who.name + &quot;has stopped healing you.&quot;);
 			break;

Modified: trunk/096/pkg/skills/lockpicking/lockpicking.src
===================================================================
--- trunk/096/pkg/skills/lockpicking/lockpicking.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/skills/lockpicking/lockpicking.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -3,7 +3,6 @@
 use cfgfile;
 use util;
 
-include &quot;include/dist&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;include/sound&quot;;
 include &quot;include/startEqp&quot;;

Modified: trunk/096/pkg/skills/mining/mining.src
===================================================================
--- trunk/096/pkg/skills/mining/mining.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/skills/mining/mining.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -4,7 +4,6 @@
 
 include &quot;include/client&quot;;
 include &quot;:attributes:attributes&quot;;
-include &quot;include/dist&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;include/startEqp&quot;;
 include &quot;util/key&quot;;
@@ -66,7 +65,7 @@
       return;
     endif
     SetObjProperty(who, &quot;IsMining&quot;, ReadGameClock() + 1);
-	if((coordist(who.x, who.y, use_on.x, use_on.y)) &gt; 2 )
+	if((CoordinateDistance(who.x, who.y, use_on.x, use_on.y)) &gt; 2 )
 	  SendSysMessage(who,&quot;That is too far away.&quot;);
 	  return;
 	endif
@@ -150,7 +149,7 @@
 	PerformAction(who, 0x0b);
 	PlaySoundEffect(who, 0x126);
     var range := GetRange( who );
-    var distn := coordist( dig.x, dig.y, chestx, chesty );
+    var distn := CoordinateDistance( dig.x, dig.y, chestx, chesty );
 //    var dirns := &quot;None&quot;;
 //    var direw := &quot;None&quot;;
     var maxrange := 20;
@@ -349,7 +348,7 @@
 endfunction
 
 function GetOre(who, location, info, tool)
-  if(coordist(who.x, who.y, location.x, location.y) &gt; 2)
+  if(CoordinateDistance(who.x, who.y, location.x, location.y) &gt; 2)
     SendSysMessage(who, &quot;You stop mining.&quot;);
     return 1;
   endif

Modified: trunk/096/pkg/skills/tailoring/makeClothItems.src
===================================================================
--- trunk/096/pkg/skills/tailoring/makeClothItems.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/skills/tailoring/makeClothItems.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -5,7 +5,6 @@
 
 include &quot;:gumps:include/old/old-gumps&quot;;
 include &quot;:attributes:attributes&quot;;
-include &quot;include/dist&quot;;
 include &quot;include/client&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;:itemutils:canAccess&quot;;

Modified: trunk/096/pkg/skills/tailoring/tailoringFunctions.inc
===================================================================
--- trunk/096/pkg/skills/tailoring/tailoringFunctions.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/skills/tailoring/tailoringFunctions.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -1,6 +1,6 @@
 
 function process_wool(who, blade, sheep)
-  if((!CheckLineOfSight(who, sheep)) or (dist(who, sheep) &gt; 2))
+  if((!CheckLineOfSight(who, sheep)) or (Distance(who, sheep) &gt; 2))
     SendSysMessage(who, &quot;You cannot use that.&quot;);
     return;
   endif

Modified: trunk/096/pkg/skills/tinkering/tinkerTraps.src
===================================================================
--- trunk/096/pkg/skills/tinkering/tinkerTraps.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/skills/tinkering/tinkerTraps.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -2,7 +2,6 @@
 use util;
 use os;
 
-include &quot;include/dist&quot;;
 include &quot;include/sound&quot;;
 include &quot;include/tileEffects&quot;;
 include &quot;include/client&quot;;
@@ -51,7 +50,7 @@
        EraseObjProperty(item, &quot;trap_strength&quot;);
     2: PlaySoundEffect(who, SFX_232);
        PrintTextAbovePrivate(who, &quot;You set off a poison trap!&quot;, who);
-       if(dist(who, item) &lt; 3)
+       if(Distance(who, item) &lt; 3)
          PlayObjectCenteredEffect(who, FX_POISON_GAS, 10,10);
          var passparms := {who, who, &quot;poison trap&quot;, trapstrength};
          start_script(&quot;:spells:poisonDamage&quot;, passparms);
@@ -63,7 +62,7 @@
        EraseObjProperty(item, &quot;trap_strength&quot;);
     3: PlaySoundEffect(who, SFX_208);
        SendSysMessage(who, &quot;You set off an explosion trap!&quot;);
-       if(dist(who, item) &lt; 3)
+       if(Distance(who, item) &lt; 3)
          PlayObjectCenteredEffect(who, FX_EXPLODE_3, 10,10);
          var dmg :=(RandomInt(20) + CInt(trapstrength));
          ApplyRawDamage(who, dmg);
@@ -80,7 +79,7 @@
        var oldstrength := GetObjProperty(item, &quot;oldstrength&quot;);
        var oldtype := GetObjProperty(item, &quot;oldtype&quot;);
        SendSysMessage(who, &quot;You set off an explosion trap!&quot;);
-       if(dist(who, item) &lt; 3)
+       if(Distance(who, item) &lt; 3)
          PlayObjectCenteredEffect(who, FX_EXPLODE_3, 10,10);
          var dmg := Resist(who, (RandomInt(20) + trapstrength));
          ApplyRawDamage(who, dmg);

Modified: trunk/096/pkg/skills/veterinary/vet.src
===================================================================
--- trunk/096/pkg/skills/veterinary/vet.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/skills/veterinary/vet.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -5,7 +5,6 @@
 
 include &quot;include/client&quot;;
 include &quot;:attributes:attributes&quot;;
-include &quot;include/dist&quot;;
 include &quot;:timedscripts:timedScripts&quot;;
 include &quot;:timedscripts:poisonUtil&quot;;
 
@@ -20,7 +19,7 @@
   EraseObjProperty(who, &quot;IsMeditating&quot;);
   //var sleeptime;
   var anatomy:= AP_GetSkill(who, ANATOMY);
-  if(dist(who, patient) &gt; 2)
+  if(Distance(who, patient) &gt; 2)
     SendSysMessage(who, &quot;Your patient is too far away.&quot;);
     return;
   elseif(!CheckLineOfSight(who,patient))
@@ -37,7 +36,7 @@
       SendSysMessage(who,&quot;You can't see your patient.&quot;);
       return;
     endif
-    if(dist(who, patient) &lt;= 2)
+    if(Distance(who, patient) &lt;= 2)
       SendSysMessage(who,&quot;You start to cure &quot;+patient.name+&quot;.&quot;);
       cure(who, patient);
     else
@@ -49,7 +48,7 @@
 	  SendSysMessage(who,&quot;You can't see your patient.&quot;);
       return;
     endif
-    if(dist(who, patient) &lt;= 2)
+    if(Distance(who, patient) &lt;= 2)
       SendSysMessage(who,&quot;You start to heal &quot;+patient.name + &quot;.&quot;);
       heal(who, patient);
     else
@@ -90,7 +89,7 @@
     endif
     chp:=AP_GetVital(who, HITS);
     sleep(1);
-    if(dist(who, patient) &gt; 2)
+    if(Distance(who, patient) &gt; 2)
       SendSysMessage(who,&quot;Your patient isn't close enough.&quot;);
       break;
     endif
@@ -166,7 +165,7 @@
     endif
     chp:=AP_GetVital(who, HITS);
     sleep(1);
-    if(dist(who, patient) &gt; 1)
+    if(Distance(who, patient) &gt; 1)
       SendSysMessage(who,&quot;Your patient isn't close enough.&quot;);
       break;
     endif

Modified: trunk/096/pkg/systems/combat/old/bladed.src
===================================================================
--- trunk/096/pkg/systems/combat/old/bladed.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/systems/combat/old/bladed.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -12,7 +12,6 @@
 include &quot;include/string&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;:itemutils:canAccess&quot;;
-include &quot;include/dist&quot;;
 include &quot;include/toolWear&quot;;
 include &quot;include/noto&quot;;
 include &quot;:tailoring:tailoringFunctions&quot;;
@@ -82,7 +81,7 @@
 
 function CarveTree(who, blade, use_on)
 
-	if(dist(who, use_on) &gt; 2)
+	if(Distance(who, use_on) &gt; 2)
 		SendSysMessage(who, &quot;You cannot use that&quot;);
 		return;
 	endif

Modified: trunk/096/pkg/systems/combat/useScripts/bladed.src
===================================================================
--- trunk/096/pkg/systems/combat/useScripts/bladed.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/systems/combat/useScripts/bladed.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -12,7 +12,6 @@
 include &quot;include/string&quot;;
 include &quot;:itemutils:objtype&quot;;
 include &quot;:itemutils:canAccess&quot;;
-include &quot;include/dist&quot;;
 include &quot;include/toolWear&quot;;
 include &quot;include/noto&quot;;
 include &quot;:tailoring:tailoringFunctions&quot;;
@@ -82,7 +81,7 @@
 
 function CarveTree(who, blade, use_on )
 
-	if ( dist(who, use_on) &gt; 2 )
+	if ( Distance(who, use_on) &gt; 2 )
 		SendSysMessage(who, &quot;You cannot use that&quot;);
 		return 0;
 	endif

Modified: trunk/096/pkg/systems/merchantnodes/guardNodeControl.src
===================================================================
--- trunk/096/pkg/systems/merchantnodes/guardNodeControl.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/systems/merchantnodes/guardNodeControl.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;include/eventID&quot;;
 include &quot;:attributes:attributes&quot;;
 include &quot;include/sysEvent&quot;;
-include &quot;include/dist&quot;;
 
 var npclist := {};
 var spawn, amt, item, status;

Modified: trunk/096/pkg/systems/merchantnodes/merchantNodeControl.src
===================================================================
--- trunk/096/pkg/systems/merchantnodes/merchantNodeControl.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/systems/merchantnodes/merchantNodeControl.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -8,7 +8,6 @@
 include &quot;include/sysEvent&quot;;
 include &quot;include/mrcSpawn&quot;;
 include &quot;:itemutils:utility&quot;;;
-include &quot;include/dist&quot;;
 
 var npclist := {};
 var spawn, amt, item, status, rng, tmplate;
@@ -273,7 +272,7 @@
 		var dis := 15;
 		foreach mob in npclist
 			if(CheckLineOfSight(ev.source, mob))
-				var dst := dist(who, mob);
+				var dst := Distance(who, mob);
 				if(dst &lt; dis)
 					dis := dst;
 					npc := mob;
@@ -311,7 +310,7 @@
 			var dis := 7;
 			foreach mob in npclist
 				if(CheckLineOfSight(who, mob))
-					var dst := dist(who, mob);
+					var dst := Distance(who, mob);
 					if(dst &lt; dis)
 						dis := dst;
 						npc := mob;

Modified: trunk/096/pkg/systems/spellcasting/spellcast.src
===================================================================
--- trunk/096/pkg/systems/spellcasting/spellcast.src	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/pkg/systems/spellcasting/spellcast.src	2005-11-05 23:11:06 UTC (rev 910)
@@ -5,7 +5,6 @@
 
 include &quot;spellcastFunctions&quot;;
 include &quot;:attributes:attributes&quot;;
-include &quot;include/dist&quot;;
 
 program spellcast(who, spellid)
 
@@ -173,7 +172,7 @@
       SendSysMessage(who, &quot;You can't see that.&quot;, 3, 40);
       return 0;
     endif
-    if (coordist(who.x, who.y, castOn.x, castOn.y) &gt;= 12)
+    if (CoordinateDistance(who.x, who.y, castOn.x, castOn.y) &gt;= 12)
       SendSysMessage(who, &quot;That is too far away.&quot;, 3, 40);
       return 0;
     endif

Modified: trunk/096/scripts/include/OLD/spellRestrictions.inc
===================================================================
--- trunk/096/scripts/include/OLD/spellRestrictions.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/scripts/include/OLD/spellRestrictions.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -11,7 +11,6 @@
 include &quot;include/statMod&quot;;
 include &quot;include/firewall&quot;;
 include &quot;include/spellAttack&quot;;
-include &quot;include/dist&quot;;
 
 var caster;
 var npccfg := ReadConfigFile(&quot;::npcdesc&quot;);
@@ -175,7 +174,7 @@
     SendSysMessage(caster,&quot;You can't see that.&quot;, 3, 40);
     return 0;
   endif
-  if(dist(caster, cast_on) &gt;= 12)
+  if(Distance(caster, cast_on) &gt;= 12)
     SendSysMessage(caster, &quot;That is too far away.&quot;, 3, 40);
     return 0;
   endif
@@ -195,7 +194,7 @@
     SendSysMessage(caster, &quot;You can't see that.&quot;, 3, 40);
     return 0;
   endif
-  if(coordist(caster.x, caster.y, cast_loc.x, cast_loc.y) &gt;= 12)
+  if(CoordinateDistance(caster.x, caster.y, cast_loc.x, cast_loc.y) &gt;= 12)
     SendSysMessage(caster, &quot;That is too far away.&quot;, 3, 40);
     return 0;
   endif
@@ -405,7 +404,7 @@
       return 0;
     endif
   endif
-  if(cdist(who.x, who.y, cast_on.x, cast_on.y) &gt; 12)
+  if(cDistance(who.x, who.y, cast_on.x, cast_on.y) &gt; 12)
     var check := 0;
     foreach thing in EnumerateItemsInContainer(who.backpack)
       if(thing == cast_on)
@@ -537,7 +536,7 @@
   return points;
 endfunction
 
-function cdist(x1, y1, x2, y2)
+function cDistance(x1, y1, x2, y2)
   var xd := x1 - x2;
   var yd := y1 - y2;
   if (xd &lt; 0)
@@ -565,7 +564,7 @@
       return 0;
     endif
   endif
-  if(cdist(who.x, who.y, cast_on.x, cast_on.y) &gt; 12)
+  if(cDistance(who.x, who.y, cast_on.x, cast_on.y) &gt; 12)
     SendSysMessage(who,&quot;The target is out of range.&quot;, 3, 40);
     return 0;
   endif

Modified: trunk/096/scripts/util/repair.inc
===================================================================
--- trunk/096/scripts/util/repair.inc	2005-11-05 22:56:59 UTC (rev 909)
+++ trunk/096/scripts/util/repair.inc	2005-11-05 23:11:06 UTC (rev 910)
@@ -146,7 +146,7 @@
     SendSysMessage(who, &quot;You cannot repair that.&quot;);
     return;
   endif
-  if((!Accessible(who, use_on)) or (dist(who, use_on) &gt; 2))
+  if((!Accessible(who, use_on)) or (Distance(who, use_on) &gt; 2))
     SendSysMessage(who, &quot;You cannot reach that.&quot;);
     return;
   endif


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000883.html">[Poldistro-svn] r909 - in trunk/096/pkg/skills/magery: . include
</A></li>
	<LI>Next message: <A HREF="000885.html">[Poldistro-svn] r911 - in trunk/096: pkg/items/guildstone pkg/mobiles/oldAI pkg/skills/alchemy pkg/skills/herding pkg/skills/musicianship pkg/skills/taming pkg/systems/boat pkg/systems/housing pkg/systems/merchantnodes pkg/systems/stafflist scripts/control scripts/misc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#884">[ date ]</a>
              <a href="thread.html#884">[ thread ]</a>
              <a href="subject.html#884">[ subject ]</a>
              <a href="author.html#884">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/poldistro-svn">More information about the Poldistro-svn
mailing list</a><br>
</body></html>
